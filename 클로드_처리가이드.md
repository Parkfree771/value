# 워드워치 글 자동 추가 가이드

## 🤖 클로드가 해야 할 일

사용자가 아래 양식을 채워서 전달하면, 자동으로 `mockData.ts`에 코드를 추가합니다.

---

## 📋 사용자 제공 양식

```
작성자 이름: [영문 이름]
작성자 소속: [영문 소속]
작성일 (yyyy-mm-dd): [날짜]
기업명: [회사명]
티커: [티커심볼]
상장거래소: [NYSE/NASDAQ]
작성당시주가: [가격]
매수 or 매도: [매수/매도]
배지 종류: [매수/매도]
제목: [제목]
요약: [요약문]
원문 링크: [URL]
```

---

## ⚙️ 자동 처리 규칙

### 1. ID 생성
- 마지막 ID를 확인하고 +1 증가
- 예: `mock-9` 다음은 `mock-10`

### 2. 매수/매도 판단
- **매수** → `action_direction: 'LONG'`, `label: 'BUY'`
- **매도** → `action_direction: 'SHORT'`, `label: 'SELL'`

### 3. 작성시간 변환
- 작성일 (yyyy-mm-dd)를 UTC ISO 형식으로 변환
- 한국시간 오전 9시 기준이면: `2025-12-19T00:00:00Z`

### 4. 배지 강도
- 기본값: `intensity: 'HIGH'`

### 5. 본문 HTML 작성
요약을 바탕으로 다음 구조로 작성:

```html
<h3>1. [소제목]</h3>
<p>[내용]</p>
<ul>
  <li><strong>항목:</strong> 설명</li>
  <li><strong>항목:</strong> 설명</li>
</ul>

<h3>2. [소제목]</h3>
<p>[내용]</p>

<h3>3. 투자 시사점</h3>
<p>[내용]</p>

<p class="mt-4 text-sm text-gray-600 dark:text-gray-400">
  * 출처: [출처명]<br/>
  * 분석가/투자자: [이름] ([소속])
</p>
```

### 6. 기본값 설정
```javascript
current_price: [작성당시주가], // 동일하게
return_rate: 0,
views: 0,
likes: 0,
```

---

## 📝 코드 템플릿

```javascript
{
  id: 'mock-[순서]',
  guru_name: '[영문 이름]',
  guru_name_kr: '[영문 소속]',
  data_type: 'MENTION',
  event_date: '[yyyy-mm-dd]',
  target_ticker: '[티커]',
  company_name: '[기업명]',
  exchange: '[거래소]',
  source_url: '[원문링크]',
  badge_info: {
    label: 'BUY', // 또는 'SELL'
    intensity: 'HIGH',
  },
  title: '[제목]',
  summary: '[요약]',
  content_html: `[HTML 본문]`,
  tracking_data: {
    base_price_date: '[yyyy-mm-dd]',
    action_direction: 'LONG', // 또는 'SHORT'
  },
  base_price: [작성당시주가],
  current_price: [작성당시주가],
  return_rate: 0,
  views: 0,
  likes: 0,
  created_at: '[ISO UTC 시간]',
},
```

---

## ✅ 체크리스트

사용자가 양식을 제공하면:

1. ✅ ID 순서 확인 및 증가
2. ✅ 매수/매도 판단 → LONG/SHORT, BUY/SELL 설정
3. ✅ 날짜를 ISO UTC 형식으로 변환
4. ✅ 요약 기반으로 HTML 본문 작성 (3개 섹션 구조)
5. ✅ `mockData.ts`에 코드 추가
6. ✅ 완료 메시지 전달

---

## 💡 주의사항

- **매도 리포트**: `action_direction: 'SHORT'` 설정 필수
  - 수익률 계산이 반대로 작동 (가격 하락 = +수익)
- **배지**: BUY (초록), SELL (빨강)
- **본문**: 항상 3개 섹션 + 출처 형식 유지
- **기업명**: 정식 명칭 사용 (예: NVIDIA Corporation)

---

## 📌 작업 흐름

```
사용자 양식 제공
    ↓
1. 양식 파싱
    ↓
2. 매수/매도 판단
    ↓
3. HTML 본문 작성
    ↓
4. mockData.ts에 추가
    ↓
5. "추가 완료!" 메시지
```
